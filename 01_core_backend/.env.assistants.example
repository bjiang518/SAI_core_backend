# OpenAI Assistants API Configuration
# Copy this file to .env and fill in the values

# Feature Flags
USE_ASSISTANTS_API=false  # Set to true to enable Assistants API (start with false for safety)
ASSISTANTS_ROLLOUT_PERCENTAGE=0  # Gradual rollout: 0-100 (0 = all users use AI Engine)

# OpenAI API Key (required)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Assistant IDs (will be populated after creating assistants)
PRACTICE_GENERATOR_ASSISTANT_ID=asst_xxxxxxxxxxxxx
HOMEWORK_TUTOR_ASSISTANT_ID=asst_xxxxxxxxxxxxx
IMAGE_ANALYZER_ASSISTANT_ID=asst_xxxxxxxxxxxxx
QUESTION_EVALUATOR_ASSISTANT_ID=asst_xxxxxxxxxxxxx
ESSAY_GRADER_ASSISTANT_ID=asst_xxxxxxxxxxxxx
PARENT_REPORT_ANALYST_ASSISTANT_ID=asst_xxxxxxxxxxxxx

# Performance Settings
ASSISTANT_TIMEOUT_MS=60000  # 60 seconds
ASSISTANT_POLLING_INTERVAL_MS=500  # Check run status every 500ms
ASSISTANT_MAX_RETRIES=2

# Cost Limits (safety)
DAILY_COST_LIMIT_USD=50.00
MONTHLY_COST_LIMIT_USD=1000.00
COST_ALERT_THRESHOLD_USD=0.50  # Alert when single request costs > $0.50

# Monitoring
ENABLE_ASSISTANT_METRICS=true
METRICS_EXPORT_INTERVAL_MS=60000  # Export metrics every 60 seconds

# A/B Testing
AB_TEST_ENABLED=true
AB_TEST_CONTROL_GROUP_PERCENTAGE=50  # 50% use AI Engine, 50% use Assistants API

# Fallback Settings
AUTO_FALLBACK_ON_ERROR=true  # Automatically fallback to AI Engine if Assistants API fails
FALLBACK_ERROR_THRESHOLD=5  # Fallback after 5 consecutive errors
FALLBACK_LATENCY_THRESHOLD_MS=10000  # Fallback if latency > 10 seconds
